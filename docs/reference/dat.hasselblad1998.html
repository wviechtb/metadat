<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light"><script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Studies on the Effectiveness of Counseling for Smoking Cessation — dat.hasselblad1998 • metadat</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Studies on the Effectiveness of Counseling for Smoking Cessation — dat.hasselblad1998"><meta property="og:description" content="Results from 24 studies on the effectiveness of various counseling types for smoking cessation."><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@wviechtb"><meta name="twitter:site" content="@wviechtb"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)"><!-- preferably CSS --><link rel="stylesheet" href="../preferably.css"><link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)"><script src="../darkswitch.js"></script></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metadat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.5-4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>

  </a>
</li>
<li>
  <a href="../reference/index.html">Datasets / Functions</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
          <a href="#" id="css-toggle-btn">
            <span class="fas fa-adjust fa-lg"></span>
          </a>
        </li>

        <li>
  <a href="https://scholar.social/@wviechtb" class="external-link">Mastodon</a>
</li>
<li>
  <a href="https://github.com/wviechtb/metadat" class="external-link">GitHub</a>
</li>




      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>

    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Studies on the Effectiveness of Counseling for Smoking Cessation</h1>

    <div class="hidden name"><code>dat.hasselblad1998.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Results from 24 studies on the effectiveness of various counseling types for smoking cessation.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="va">dat.hasselblad1998</span></span></code></pre></div>
    </div>

    <div id="format">
    <h2>Format</h2>
    <p>The data frame contains the following columns:</p><table class="table table"><tr><td><b>id</b></td><td><code>numeric</code></td><td>id number for each treatment arm</td></tr><tr><td><b>study</b></td><td><code>numeric</code></td><td>study id number</td></tr><tr><td><b>authors</b></td><td><code>character</code></td><td>study author(s)</td></tr><tr><td><b>year</b></td><td><code>numeric</code></td><td>publication year</td></tr><tr><td><b>trt</b></td><td><code>character</code></td><td>intervention group</td></tr><tr><td><b>xi</b></td><td><code>numeric</code></td><td>number of individuals abstinent</td></tr><tr><td><b>ni</b></td><td><code>numeric</code></td><td>number of individuals in group</td></tr></table></div>
    <div id="details">
    <h2>Details</h2>
    <p>The dataset includes the results from 24 studies on the effectiveness of various counseling types for smoking cessation (i.e., self-help, individual counseling, group counseling, and no contact). The dataset indicates the total number of individuals within each study arm and the number that were abstinent from 6 to 12 months. The majority of the studies compared two interventions types against each other, while 2 studies compared three types against each other simultaneously.</p>
<p>The data can be used for a ‘network meta-analysis’ (also called a ‘mixed treatment comparison’). The code below shows how such an analysis can be conducted using an arm-based and a contrast-based model (see Salanti et al., 2008, for more details).</p>
    </div>
    <div id="source">
    <h2>Source</h2>
    <p>Hasselblad, V. (1998). Meta-analysis of multitreatment studies. <em>Medical Decision Making</em>, <b>18</b>(1), 37–43. <a href="https://doi.org/10.1177/0272989X9801800110" class="external-link">https://doi.org/10.1177/0272989X9801800110</a></p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Gleser, L. J., &amp; Olkin, I. (2009). Stochastically dependent effect sizes. In H. Cooper, L. V. Hedges, &amp; J. C. Valentine (Eds.), <em>The handbook of research synthesis and meta-analysis</em> (2nd ed., pp. 357–376). New York: Russell Sage Foundation.</p>
<p>Law, M., Jackson, D., Turner, R., Rhodes, K., &amp; Viechtbauer, W. (2016). Two new methods to fit models for network meta-analysis with random inconsistency effects. <em>BMC Medical Research Methodology</em>, <b>16</b>, 87. <a href="https://doi.org/10.1186/s12874-016-0184-5" class="external-link">https://doi.org/10.1186/s12874-016-0184-5</a></p>
<p>Salanti, G., Higgins, J. P. T., Ades, A. E., &amp; Ioannidis, J. P. A. (2008). Evaluation of networks of randomized trials. <em>Statistical Methods in Medical Research</em>, <b>17</b>(3), 279–301. <a href="https://doi.org/10.1177/0962280207080643" class="external-link">https://doi.org/10.1177/0962280207080643</a></p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Wolfgang Viechtbauer, <a href="mailto:wvb@metafor-project.org">wvb@metafor-project.org</a>, <a href="https://www.metafor-project.org" class="external-link">https://www.metafor-project.org</a></p>
    </div>
    <div id="concepts">
    <h2>Concepts</h2>
    <p>medicine, psychology, smoking, odds ratios, network meta-analysis</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">### copy data into 'dat' and examine data</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat.hasselblad1998</span></span></span>
<span class="r-in"><span><span class="va">dat</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    id study            authors year            trt  xi   ni</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1     1        Reid et al. 1974     no_contact  75  731</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2     1        Reid et al. 1974 ind_counseling 363  714</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   3     2    Cottraux et al. 1983     no_contact   9  140</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   4     2    Cottraux et al. 1983 ind_counseling  23  140</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   5     2    Cottraux et al. 1983 grp_counseling  10  138</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   6     3       Slama et al. 1990     no_contact   2  106</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   7     3       Slama et al. 1990 ind_counseling   9  205</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   8     4    Jamrozik et al. 1984     no_contact  58  549</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   9     4    Jamrozik et al. 1984 ind_counseling 237 1561</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 10     5      Rabkin et al. 1984     no_contact   0   33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 11     5      Rabkin et al. 1984 ind_counseling   9   48</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 12     6   Decker and Evans 1989      self_help  20   49</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 13     6   Decker and Evans 1989 ind_counseling  16   43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 14     7    Richmond et al. 1986     no_contact   3  100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 15     7    Richmond et al. 1986 ind_counseling  31   98</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 16     8              Leung 1991     no_contact   1   31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 17     8              Leung 1991 ind_counseling  26   95</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18 18     9  Mothersill et al. 1988      self_help  11   78</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 19     9  Mothersill et al. 1988 ind_counseling  12   85</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 20     9  Mothersill et al. 1988 grp_counseling  29  170</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 21    10    Langford et al. 1983     no_contact   6   39</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 22    10    Langford et al. 1983 ind_counseling  17   77</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 23    11       Gritz et al. 1992     no_contact  79  702</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 24    11       Gritz et al. 1992      self_help  77  694</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 25    12    Campbell et al. 1986     no_contact  18  671</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 26    12    Campbell et al. 1986      self_help  21  535</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 27    13     Sanders et al. 1989     no_contact  64  642</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28 28    13     Sanders et al. 1989 ind_counseling 107  761</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29 29    14    Hilleman et al. 1993 ind_counseling  12   76</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30 30    14    Hilleman et al. 1993 grp_counseling  20   74</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31 31    15     Gillams et al. 1984 ind_counseling   9   55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32 32    15     Gillams et al. 1984 grp_counseling   3   26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33 33    16 Mogielnicki et al. 1986      self_help   7   66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34 34    16 Mogielnicki et al. 1986 grp_counseling  32  127</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35 35    17        Page et al. 1986     no_contact   5   62</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36 36    17        Page et al. 1986 ind_counseling   8   90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37 37    18    Vetter and Ford 1990     no_contact  20  234</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38 38    18    Vetter and Ford 1990 ind_counseling  34  237</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39 39    19  Williams and Hall 1988     no_contact   0   20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40 40    19  Williams and Hall 1988 grp_counseling   9   20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41 41    20    Pallonen et al. 1994     no_contact   8  116</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42 42    20    Pallonen et al. 1994      self_help  19  149</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43 43    21     Russell et al. 1983     no_contact  95 1107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44 44    21     Russell et al. 1983 ind_counseling 143 1031</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45 45    22 Stewart and Rosser 1982     no_contact  15  187</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46 46    22 Stewart and Rosser 1982 ind_counseling  36  504</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47 47    23     Russell et al. 1979     no_contact  78  584</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48 48    23     Russell et al. 1979 ind_counseling  73  675</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49 49    24    Kendrick et al. 1995     no_contact  69 1177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50 50    24    Kendrick et al. 1995 ind_counseling  54  888</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### load metafor package</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.metafor-project.org" class="external-link">metafor</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### create network graph ('igraph' package must be installed)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.igraph.org/" class="external-link">igraph</a></span>, warn.conflicts<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pairs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>,</span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">trt</span>, <span class="va">dat</span><span class="op">$</span><span class="va">study</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/combn.html" class="external-link">combn</a></span><span class="op">(</span><span class="va">x</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, stringsAsFactors<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lvls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no_contact"</span>, <span class="st">"self_help"</span>, <span class="st">"ind_counseling"</span>, <span class="st">"grp_counseling"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pairs</span><span class="op">$</span><span class="va">X1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">pairs</span><span class="op">$</span><span class="va">X1</span>, levels<span class="op">=</span><span class="va">lvls</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pairs</span><span class="op">$</span><span class="va">X2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">pairs</span><span class="op">$</span><span class="va">X2</span>, levels<span class="op">=</span><span class="va">lvls</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tab</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">pairs</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>, <span class="va">pairs</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tab</span> <span class="co"># adjacency matrix</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  no_contact self_help ind_counseling grp_counseling</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   no_contact              0         3             15              2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   self_help               0         0              2              2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ind_counseling          0         0              0              4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   grp_counseling          0         0              0              0</span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r.igraph.org/reference/graph_from_adjacency_matrix.html" class="external-link">graph_from_adjacency_matrix</a></span><span class="op">(</span><span class="va">tab</span>, mode <span class="op">=</span> <span class="st">"plus"</span>, weighted<span class="op">=</span><span class="cn">TRUE</span>, diag<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://r.igraph.org/reference/vertex_attr.html" class="external-link">vertex_attr</a></span><span class="op">(</span><span class="va">g</span>, <span class="st">"name"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"No Contact"</span>, <span class="st">"Self-Help"</span>,</span></span>
<span class="r-in"><span>                            <span class="st">"Individual\nCounseling"</span>, <span class="st">"Group\nCounseling"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">g</span>, edge.curved<span class="op">=</span><span class="cn">FALSE</span>, edge.width<span class="op">=</span><span class="fu"><a href="https://r.igraph.org/reference/E.html" class="external-link">E</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">$</span><span class="va">weight</span>, layout<span class="op">=</span><span class="va">layout_on_grid</span>,</span></span>
<span class="r-in"><span>     vertex.size<span class="op">=</span><span class="fl">45</span>, vertex.color<span class="op">=</span><span class="st">"lightgray"</span>, vertex.label.color<span class="op">=</span><span class="st">"black"</span>, vertex.label.font<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="dat.hasselblad1998-1.png" alt="" width="1728" height="1536"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### calculate log odds for each study arm</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://wviechtb.github.io/metafor/reference/escalc.html" class="external-link">escalc</a></span><span class="op">(</span>measure<span class="op">=</span><span class="st">"PLO"</span>, xi<span class="op">=</span><span class="va">xi</span>, ni<span class="op">=</span><span class="va">ni</span>, add<span class="op">=</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span>, to<span class="op">=</span><span class="st">"all"</span>, data<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    id study            authors year            trt  xi   ni      yi     vi </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1     1        Reid et al. 1974     no_contact  75  731 -2.1628 0.0148 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2     1        Reid et al. 1974 ind_counseling 363  714  0.0336 0.0056 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   3     2    Cottraux et al. 1983     no_contact   9  140 -2.6277 0.1129 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   4     2    Cottraux et al. 1983 ind_counseling  23  140 -1.6094 0.0511 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   5     2    Cottraux et al. 1983 grp_counseling  10  138 -2.5046 0.1030 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   6     3       Slama et al. 1990     no_contact   2  106 -3.7329 0.4096 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   7     3       Slama et al. 1990 ind_counseling   9  205 -3.0294 0.1104 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   8     4    Jamrozik et al. 1984     no_contact  58  549 -2.1284 0.0191 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   9     4    Jamrozik et al. 1984 ind_counseling 237 1561 -1.7186 0.0050 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 10     5      Rabkin et al. 1984     no_contact   0   33 -4.2047 2.0299 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 11     5      Rabkin et al. 1984 ind_counseling   9   48 -1.4250 0.1306 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 12     6   Decker and Evans 1989      self_help  20   49 -0.3640 0.0827 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 13     6   Decker and Evans 1989 ind_counseling  16   43 -0.5108 0.0970 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 14     7    Richmond et al. 1986     no_contact   3  100 -3.3271 0.2960 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 15     7    Richmond et al. 1986 ind_counseling  31   98 -0.7621 0.0466 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 16     8              Leung 1991     no_contact   1   31 -3.0123 0.6995 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 17     8              Leung 1991 ind_counseling  26   95 -0.9642 0.0521 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18 18     9  Mothersill et al. 1988      self_help  11   78 -1.7698 0.1018 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 19     9  Mothersill et al. 1988 ind_counseling  12   85 -1.7716 0.0936 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 20     9  Mothersill et al. 1988 grp_counseling  29  170 -1.5679 0.0410 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 21    10    Langford et al. 1983     no_contact   6   39 -1.6397 0.1837 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 22    10    Langford et al. 1983 ind_counseling  17   77 -1.2404 0.0737 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 23    11       Gritz et al. 1992     no_contact  79  702 -2.0596 0.0142 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 24    11       Gritz et al. 1992      self_help  77  694 -2.0754 0.0145 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 25    12    Campbell et al. 1986     no_contact  18  671 -3.5646 0.0556 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 26    12    Campbell et al. 1986      self_help  21  535 -3.1751 0.0485 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 27    13     Sanders et al. 1989     no_contact  64  642 -2.1938 0.0172 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28 28    13     Sanders et al. 1989 ind_counseling 107  761 -1.8064 0.0108 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29 29    14    Hilleman et al. 1993 ind_counseling  12   76 -1.6409 0.0955 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30 30    14    Hilleman et al. 1993 grp_counseling  20   74 -0.9778 0.0671 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31 31    15     Gillams et al. 1984 ind_counseling   9   55 -1.5882 0.1268 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32 32    15     Gillams et al. 1984 grp_counseling   3   26 -1.9042 0.3283 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33 33    16 Mogielnicki et al. 1986      self_help   7   66 -2.0711 0.1501 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34 34    16 Mogielnicki et al. 1986 grp_counseling  32  127 -1.0779 0.0412 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35 35    17        Page et al. 1986     no_contact   5   62 -2.3470 0.1992 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36 36    17        Page et al. 1986 ind_counseling   8   90 -2.2727 0.1298 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37 37    18    Vetter and Ford 1990     no_contact  20  234 -2.3479 0.0534 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38 38    18    Vetter and Ford 1990 ind_counseling  34  237 -1.7747 0.0339 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39 39    19  Williams and Hall 1988     no_contact   0   20 -3.7136 2.0488 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40 40    19  Williams and Hall 1988 grp_counseling   9   20 -0.1911 0.1922 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41 41    20    Pallonen et al. 1994     no_contact   8  116 -2.5467 0.1269 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42 42    20    Pallonen et al. 1994      self_help  19  149 -1.9010 0.0589 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43 43    21     Russell et al. 1983     no_contact  95 1107 -2.3611 0.0115 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44 44    21     Russell et al. 1983 ind_counseling 143 1031 -1.8232 0.0081 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45 45    22 Stewart and Rosser 1982     no_contact  15  187 -2.4096 0.0703 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46 46    22 Stewart and Rosser 1982 ind_counseling  36  504 -2.5522 0.0295 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47 47    23     Russell et al. 1979     no_contact  78  584 -1.8644 0.0147 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48 48    23     Russell et al. 1979 ind_counseling  73  675 -2.1038 0.0153 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49 49    24    Kendrick et al. 1995     no_contact  69 1177 -2.7694 0.0153 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50 50    24    Kendrick et al. 1995 ind_counseling  54  888 -2.7286 0.0195 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### convert trt variable to factor with desired ordering of levels</span></span></span>
<span class="r-in"><span><span class="va">dat</span><span class="op">$</span><span class="va">trt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">trt</span>, levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no_contact"</span>, <span class="st">"self_help"</span>, <span class="st">"ind_counseling"</span>, <span class="st">"grp_counseling"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### add a space before each level (this makes the output a bit more legible)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">trt</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">" "</span>, <span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">trt</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### network meta-analysis using an arm-based model with fixed study effects</span></span></span>
<span class="r-in"><span><span class="co">### by setting rho=1/2, tau^2 reflects the amount of heterogeneity for all treatment comparisons</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://wviechtb.github.io/metafor/reference/rma.mv.html" class="external-link">rma.mv</a></span><span class="op">(</span><span class="va">yi</span>, <span class="va">vi</span>, mods <span class="op">=</span> <span class="op">~</span> <span class="fl">0</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">study</span><span class="op">)</span> <span class="op">+</span> <span class="va">trt</span>,</span></span>
<span class="r-in"><span>              random <span class="op">=</span> <span class="op">~</span> <span class="va">trt</span> <span class="op">|</span> <span class="va">study</span>, rho<span class="op">=</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span>, data<span class="op">=</span><span class="va">dat</span>, btt<span class="op">=</span><span class="st">"trt"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Multivariate Meta-Analysis Model (k = 50; method: REML)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variance Components:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> outer factor: study (nlvls = 24)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> inner factor: trt   (nlvls = 4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             estim    sqrt  fixed </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tau^2      0.4324  0.6575     no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rho        0.5000            yes </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test for Residual Heterogeneity:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> QE(df = 23) = 202.3334, p-val &lt; .0001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test of Moderators (coefficients 25:27):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> QM(df = 3) = 14.2278, p-val = 0.0026</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     estimate      se     zval    pval    ci.lb    ci.ub      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)1       -1.3925  0.5820  -2.3926  0.0167  -2.5333  -0.2518    * </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)2       -2.7302  0.5842  -4.6731  &lt;.0001  -3.8753  -1.5851  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)3       -3.7217  0.6681  -5.5703  &lt;.0001  -5.0312  -2.4121  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)4       -2.2710  0.5829  -3.8958  &lt;.0001  -3.4136  -1.1285  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)5       -2.3914  0.7374  -3.2430  0.0012  -3.8367  -0.9461   ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)6       -0.9698  0.6421  -1.5104  0.1309  -2.2284   0.2887      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)7       -2.0855  0.6369  -3.2744  0.0011  -3.3339  -0.8372   ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)8       -1.9592  0.6674  -2.9357  0.0033  -3.2672  -0.6512   ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)9       -2.3487  0.6032  -3.8936  &lt;.0001  -3.5310  -1.1664  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)10      -1.8062  0.6296  -2.8688  0.0041  -3.0402  -0.5722   ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)11      -2.2618  0.5978  -3.7835  0.0002  -3.4334  -1.0901  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)12      -3.5643  0.6139  -5.8058  &lt;.0001  -4.7675  -2.3610  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)13      -2.3454  0.5836  -4.0188  &lt;.0001  -3.4892  -1.2015  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)14      -2.0624  0.6492  -3.1767  0.0015  -3.3348  -0.7899   ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)15      -2.4575  0.6868  -3.5781  0.0003  -3.8037  -1.1114  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)16      -2.1438  0.6707  -3.1964  0.0014  -3.4583  -0.8293   ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)17      -2.6810  0.6448  -4.1581  &lt;.0001  -3.9447  -1.4173  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)18      -2.4066  0.5964  -4.0353  &lt;.0001  -3.5755  -1.2377  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)19      -1.4441  0.8108  -1.7811  0.0749  -3.0331   0.1450    . </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)20      -2.4041  0.6331  -3.7974  0.0001  -3.6450  -1.1633  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)21      -2.4359  0.5817  -4.1877  &lt;.0001  -3.5760  -1.2958  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)22      -2.8559  0.5991  -4.7667  &lt;.0001  -4.0301  -1.6816  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)23      -2.3268  0.5838  -3.9857  &lt;.0001  -3.4710  -1.1826  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(study)24      -3.0893  0.5847  -5.2836  &lt;.0001  -4.2353  -1.9433  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trt self_help         0.3888  0.3221   1.2070  0.2274  -0.2426   1.0202      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trt ind_counseling    0.6864  0.1904   3.6055  0.0003   0.3133   1.0596  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trt grp_counseling    0.8438  0.3641   2.3176  0.0205   0.1302   1.5574    * </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### all pairwise odds ratios of interventions versus no contact</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">res</span>, newmods<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0</span>, nrow<span class="op">=</span><span class="fl">3</span>, ncol<span class="op">=</span><span class="fl">24</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        intercept<span class="op">=</span><span class="cn">FALSE</span>, transf<span class="op">=</span><span class="va">exp</span>, digits<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Arguments 'intercept' ignored when 'newmods' includes 'p' columns.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   pred ci.lb ci.ub pi.lb pi.ub </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 1.48  0.78  2.77  0.35  6.20 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 1.99  1.37  2.89  0.52  7.60 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 2.33  1.14  4.75  0.53 10.14 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### all pairwise odds ratios comparing interventions (ic vs sh, gc vs sh, and gc vs ic)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">res</span>, newmods<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0</span>, nrow<span class="op">=</span><span class="fl">3</span>, ncol<span class="op">=</span><span class="fl">24</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="op">-</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        intercept<span class="op">=</span><span class="cn">FALSE</span>, transf<span class="op">=</span><span class="va">exp</span>, digits<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Arguments 'intercept' ignored when 'newmods' includes 'p' columns.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   pred ci.lb ci.ub pi.lb pi.ub </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 1.35  0.70  2.58  0.32  5.71 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 1.58  0.72  3.43  0.35  7.10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 1.17  0.59  2.30  0.27  5.02 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### forest plot of ORs of interventions versus no contact</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://wviechtb.github.io/metafor/reference/forest.html" class="external-link">forest</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="va">res</span><span class="op">$</span><span class="va">beta</span><span class="op">[</span><span class="fl">25</span><span class="op">:</span><span class="fl">27</span><span class="op">]</span><span class="op">)</span>, sei<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="va">res</span><span class="op">$</span><span class="va">se</span><span class="op">[</span><span class="fl">25</span><span class="op">:</span><span class="fl">27</span><span class="op">]</span><span class="op">)</span>, psize<span class="op">=</span><span class="fl">1</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>, digits<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span>, efac<span class="op">=</span><span class="fl">2</span>,</span></span>
<span class="r-in"><span>       slab<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"No Contact"</span>, <span class="st">"Self-Help"</span>, <span class="st">"Individual Counseling"</span>, <span class="st">"Group Counseling"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       atransf<span class="op">=</span><span class="va">exp</span>, at<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span>, xlab<span class="op">=</span><span class="st">"Odds Ratio for Intervention vs. No Contact"</span>,</span></span>
<span class="r-in"><span>       header<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>, <span class="st">"Odds Ratio [95% CI]"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="dat.hasselblad1998-2.png" alt="" width="1728" height="1536"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">############################################################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### restructure dataset to a contrast-based format</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://wviechtb.github.io/metafor/reference/to.wide.html" class="external-link">to.wide</a></span><span class="op">(</span><span class="va">dat.hasselblad1998</span>, study<span class="op">=</span><span class="st">"study"</span>, grp<span class="op">=</span><span class="st">"trt"</span>, ref<span class="op">=</span><span class="st">"no_contact"</span>, grpvars<span class="op">=</span><span class="fl">6</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### calculate log odds ratios for each treatment comparison</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://wviechtb.github.io/metafor/reference/escalc.html" class="external-link">escalc</a></span><span class="op">(</span>measure<span class="op">=</span><span class="st">"OR"</span>, ai<span class="op">=</span><span class="va">xi.1</span>, n1i<span class="op">=</span><span class="va">ni.1</span>,</span></span>
<span class="r-in"><span>                            ci<span class="op">=</span><span class="va">xi.2</span>, n2i<span class="op">=</span><span class="va">ni.2</span>, add<span class="op">=</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span>, to<span class="op">=</span><span class="st">"all"</span>, data<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    id study            authors year          trt.1 xi.1 ni.1          trt.2 xi.2 ni.2  comp   design </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1     1        Reid et al. 1974 ind_counseling  363  714     no_contact   75  731 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2     2    Cottraux et al. 1983 grp_counseling   10  138     no_contact    9  140 gr-no gr-in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   3     2    Cottraux et al. 1983 ind_counseling   23  140     no_contact    9  140 in-no gr-in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   4     3       Slama et al. 1990 ind_counseling    9  205     no_contact    2  106 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   5     4    Jamrozik et al. 1984 ind_counseling  237 1561     no_contact   58  549 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   6     5      Rabkin et al. 1984 ind_counseling    9   48     no_contact    0   33 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   7     6   Decker and Evans 1989 ind_counseling   16   43      self_help   20   49 in-se    in-se </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   8     7    Richmond et al. 1986 ind_counseling   31   98     no_contact    3  100 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   9     8              Leung 1991 ind_counseling   26   95     no_contact    1   31 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 10     9  Mothersill et al. 1988 grp_counseling   29  170      self_help   11   78 gr-se gr-in-se </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 11     9  Mothersill et al. 1988 ind_counseling   12   85      self_help   11   78 in-se gr-in-se </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 12    10    Langford et al. 1983 ind_counseling   17   77     no_contact    6   39 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 13    11       Gritz et al. 1992      self_help   77  694     no_contact   79  702 se-no    se-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 14    12    Campbell et al. 1986      self_help   21  535     no_contact   18  671 se-no    se-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 15    13     Sanders et al. 1989 ind_counseling  107  761     no_contact   64  642 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 16    14    Hilleman et al. 1993 grp_counseling   20   74 ind_counseling   12   76 gr-in    gr-in </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 17    15     Gillams et al. 1984 grp_counseling    3   26 ind_counseling    9   55 gr-in    gr-in </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18 18    16 Mogielnicki et al. 1986 grp_counseling   32  127      self_help    7   66 gr-se    gr-se </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 19    17        Page et al. 1986 ind_counseling    8   90     no_contact    5   62 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 20    18    Vetter and Ford 1990 ind_counseling   34  237     no_contact   20  234 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 21    19  Williams and Hall 1988 grp_counseling    9   20     no_contact    0   20 gr-no    gr-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 22    20    Pallonen et al. 1994      self_help   19  149     no_contact    8  116 se-no    se-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 23    21     Russell et al. 1983 ind_counseling  143 1031     no_contact   95 1107 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 24    22 Stewart and Rosser 1982 ind_counseling   36  504     no_contact   15  187 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 25    23     Russell et al. 1979 ind_counseling   73  675     no_contact   78  584 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 26    24    Kendrick et al. 1995 ind_counseling   54  888     no_contact   69 1177 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         yi     vi </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   2.1964 0.0204 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   0.1232 0.2159 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   1.0183 0.1639 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   0.7035 0.5199 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   0.4098 0.0241 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   2.7797 2.1604 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  -0.1469 0.1796 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   2.5649 0.3425 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   2.0481 0.7516 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  0.2019 0.1427 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 -0.0018 0.1954 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  0.3993 0.2574 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 -0.0158 0.0287 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  0.3894 0.1040 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  0.3874 0.0281 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16  0.6632 0.1626 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 -0.3161 0.4550 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  0.9932 0.1914 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19  0.0743 0.3290 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20  0.5732 0.0873 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21  3.5225 2.2410 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22  0.6457 0.1858 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23  0.5379 0.0196 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 -0.1427 0.0998 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 -0.2394 0.0300 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26  0.0408 0.0348 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### calculate the variance-covariance matrix of the log odds ratios for multitreatment studies</span></span></span>
<span class="r-in"><span><span class="co">### see Gleser &amp; Olkin (2009), equation (19.11), for the covariance equation</span></span></span>
<span class="r-in"><span><span class="va">calc.v</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>   <span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">xi.2</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span><span class="op">/</span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">ni.2</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">-</span> <span class="va">x</span><span class="op">$</span><span class="va">xi.2</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span>, nrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, ncol<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">$</span><span class="va">vi</span></span></span>
<span class="r-in"><span>   <span class="va">v</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="va">V</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://wviechtb.github.io/metafor/reference/bldiag.html" class="external-link">bldiag</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span><span class="va">dat</span>, <span class="va">dat</span><span class="op">$</span><span class="va">study</span><span class="op">)</span>, <span class="va">calc.v</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### add contrast matrix to dataset</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://wviechtb.github.io/metafor/reference/contrmat.html" class="external-link">contrmat</a></span><span class="op">(</span><span class="va">dat</span>, grp1<span class="op">=</span><span class="st">"trt.1"</span>, grp2<span class="op">=</span><span class="st">"trt.2"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    id study            authors year          trt.1 xi.1 ni.1          trt.2 xi.2 ni.2  comp   design </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1     1        Reid et al. 1974 ind_counseling  363  714     no_contact   75  731 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2     2    Cottraux et al. 1983 grp_counseling   10  138     no_contact    9  140 gr-no gr-in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   3     2    Cottraux et al. 1983 ind_counseling   23  140     no_contact    9  140 in-no gr-in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   4     3       Slama et al. 1990 ind_counseling    9  205     no_contact    2  106 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   5     4    Jamrozik et al. 1984 ind_counseling  237 1561     no_contact   58  549 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   6     5      Rabkin et al. 1984 ind_counseling    9   48     no_contact    0   33 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   7     6   Decker and Evans 1989 ind_counseling   16   43      self_help   20   49 in-se    in-se </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   8     7    Richmond et al. 1986 ind_counseling   31   98     no_contact    3  100 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   9     8              Leung 1991 ind_counseling   26   95     no_contact    1   31 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 10     9  Mothersill et al. 1988 grp_counseling   29  170      self_help   11   78 gr-se gr-in-se </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 11     9  Mothersill et al. 1988 ind_counseling   12   85      self_help   11   78 in-se gr-in-se </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 12    10    Langford et al. 1983 ind_counseling   17   77     no_contact    6   39 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 13    11       Gritz et al. 1992      self_help   77  694     no_contact   79  702 se-no    se-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 14    12    Campbell et al. 1986      self_help   21  535     no_contact   18  671 se-no    se-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 15    13     Sanders et al. 1989 ind_counseling  107  761     no_contact   64  642 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 16    14    Hilleman et al. 1993 grp_counseling   20   74 ind_counseling   12   76 gr-in    gr-in </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 17    15     Gillams et al. 1984 grp_counseling    3   26 ind_counseling    9   55 gr-in    gr-in </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18 18    16 Mogielnicki et al. 1986 grp_counseling   32  127      self_help    7   66 gr-se    gr-se </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 19    17        Page et al. 1986 ind_counseling    8   90     no_contact    5   62 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 20    18    Vetter and Ford 1990 ind_counseling   34  237     no_contact   20  234 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 21    19  Williams and Hall 1988 grp_counseling    9   20     no_contact    0   20 gr-no    gr-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 22    20    Pallonen et al. 1994      self_help   19  149     no_contact    8  116 se-no    se-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 23    21     Russell et al. 1983 ind_counseling  143 1031     no_contact   95 1107 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 24    22 Stewart and Rosser 1982 ind_counseling   36  504     no_contact   15  187 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 25    23     Russell et al. 1979 ind_counseling   73  675     no_contact   78  584 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 26    24    Kendrick et al. 1995 ind_counseling   54  888     no_contact   69 1177 in-no    in-no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         yi     vi grp_counseling ind_counseling self_help no_contact </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   2.1964 0.0204              0              1         0         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   0.1232 0.2159              1              0         0         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   1.0183 0.1639              0              1         0         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   0.7035 0.5199              0              1         0         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   0.4098 0.0241              0              1         0         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   2.7797 2.1604              0              1         0         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  -0.1469 0.1796              0              1        -1          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   2.5649 0.3425              0              1         0         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   2.0481 0.7516              0              1         0         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  0.2019 0.1427              1              0        -1          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 -0.0018 0.1954              0              1        -1          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  0.3993 0.2574              0              1         0         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 -0.0158 0.0287              0              0         1         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  0.3894 0.1040              0              0         1         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  0.3874 0.0281              0              1         0         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16  0.6632 0.1626              1             -1         0          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 -0.3161 0.4550              1             -1         0          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  0.9932 0.1914              1              0        -1          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19  0.0743 0.3290              0              1         0         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20  0.5732 0.0873              0              1         0         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21  3.5225 2.2410              1              0         0         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22  0.6457 0.1858              0              0         1         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23  0.5379 0.0196              0              1         0         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 -0.1427 0.0998              0              1         0         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 -0.2394 0.0300              0              1         0         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26  0.0408 0.0348              0              1         0         -1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### network meta-analysis using a contrast-based random-effects model</span></span></span>
<span class="r-in"><span><span class="co">### by setting rho=1/2, tau^2 reflects the amount of heterogeneity for all treatment comparisons</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://wviechtb.github.io/metafor/reference/rma.mv.html" class="external-link">rma.mv</a></span><span class="op">(</span><span class="va">yi</span>, <span class="va">V</span>, mods <span class="op">=</span> <span class="op">~</span> <span class="fl">0</span> <span class="op">+</span> <span class="va">self_help</span> <span class="op">+</span> <span class="va">ind_counseling</span> <span class="op">+</span> <span class="va">grp_counseling</span>,</span></span>
<span class="r-in"><span>              random <span class="op">=</span> <span class="op">~</span> <span class="va">comp</span> <span class="op">|</span> <span class="va">study</span>, rho<span class="op">=</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span>, data<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Multivariate Meta-Analysis Model (k = 26; method: REML)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variance Components:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> outer factor: study (nlvls = 24)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> inner factor: comp  (nlvls = 6)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             estim    sqrt  fixed </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tau^2      0.4324  0.6575     no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rho        0.5000            yes </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test for Residual Heterogeneity:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> QE(df = 23) = 202.3334, p-val &lt; .0001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test of Moderators (coefficients 1:3):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> QM(df = 3) = 14.2278, p-val = 0.0026</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 estimate      se    zval    pval    ci.lb   ci.ub      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> self_help         0.3888  0.3221  1.2070  0.2274  -0.2426  1.0202      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ind_counseling    0.6864  0.1904  3.6055  0.0003   0.3133  1.0596  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> grp_counseling    0.8438  0.3641  2.3176  0.0205   0.1302  1.5574    * </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### predicted odds ratios of interventions versus no contact</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">res</span>, newmods<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>, transf<span class="op">=</span><span class="va">exp</span>, digits<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   pred ci.lb ci.ub pi.lb pi.ub </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 1.48  0.78  2.77  0.35  6.20 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 1.99  1.37  2.89  0.52  7.60 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 2.33  1.14  4.75  0.53 10.14 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### fit random inconsistency effects model (see Law et al., 2016)</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://wviechtb.github.io/metafor/reference/rma.mv.html" class="external-link">rma.mv</a></span><span class="op">(</span><span class="va">yi</span>, <span class="va">V</span>, mods <span class="op">=</span> <span class="op">~</span> <span class="fl">0</span> <span class="op">+</span> <span class="va">self_help</span> <span class="op">+</span> <span class="va">ind_counseling</span> <span class="op">+</span> <span class="va">grp_counseling</span>,</span></span>
<span class="r-in"><span>              random <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">~</span> <span class="va">comp</span> <span class="op">|</span> <span class="va">study</span>, <span class="op">~</span> <span class="va">comp</span> <span class="op">|</span> <span class="va">design</span><span class="op">)</span>, rho<span class="op">=</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span>, phi<span class="op">=</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span>, data<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Multivariate Meta-Analysis Model (k = 26; method: REML)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variance Components:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> outer factor: study (nlvls = 24)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> inner factor: comp  (nlvls = 6)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             estim    sqrt  fixed </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tau^2      0.4324  0.6575     no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rho        0.5000            yes </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> outer factor: design (nlvls = 8)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> inner factor: comp   (nlvls = 6)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             estim    sqrt  fixed </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gamma^2    0.0000  0.0000     no </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> phi        0.5000            yes </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test for Residual Heterogeneity:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> QE(df = 23) = 202.3334, p-val &lt; .0001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test of Moderators (coefficients 1:3):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> QM(df = 3) = 14.2278, p-val = 0.0026</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 estimate      se    zval    pval    ci.lb   ci.ub      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> self_help         0.3888  0.3221  1.2070  0.2274  -0.2426  1.0202      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ind_counseling    0.6864  0.1904  3.6055  0.0003   0.3133  1.0596  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> grp_counseling    0.8438  0.3641  2.3176  0.0205   0.1302  1.5574    * </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Wolfgang Viechtbauer, Thomas White, Daniel Noble, Alistair Senior, W. Kyle Hamilton.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

      </footer></div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    appId: 'B3DHC2OOU8',

    apiKey: '8c74dd1e0cd05800bf9f222777e07625',
    indexName: 'wviechtb-metadat',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

